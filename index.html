<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suivi Heures Pro</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23667eea'/%3E%3Ctext x='50' y='65' font-family='Arial' font-size='50' fill='white' text-anchor='middle'%3E⏰%3C/text%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#667eea">
</head>
<body>
    <div class="app">
        <header>
            <div class="header-top">
                <button id="themeToggle" class="theme-toggle" aria-label="Changer le thème">🌙</button>
                <select id="languageSelector" class="language-selector" aria-label="Choisir la langue">
                    <option value="fr">🇫🇷 Français</option>
                    <option value="en">🇬🇧 English</option>
                    <option value="it">🇮🇹 Italiano</option>
                </select>
            </div>
            <h1>⏰ Suivi Heures Pro</h1>
            <div class="month-nav">
                <button id="prevMonth" aria-label="Mois précédent">‹</button>
                <span id="currentMonth"></span>
                <button id="nextMonth" aria-label="Mois suivant">›</button>
            </div>
            <div class="total-hours">
                Total du mois: <span id="monthTotal">0</span>h
            </div>
        </header>

        <main>
            <div class="calendar-container">
                <!-- En-têtes des jours -->
                <div class="calendar-header">
                    <div class="calendar-header-day">Lun</div>
                    <div class="calendar-header-day">Mar</div>
                    <div class="calendar-header-day">Mer</div>
                    <div class="calendar-header-day">Jeu</div>
                    <div class="calendar-header-day">Ven</div>
                    <div class="calendar-header-day">Sam</div>
                    <div class="calendar-header-day">Dim</div>
                </div>
                
                <!-- Calendrier -->
                <div id="calendar" class="calendar"></div>
            </div>
            
            <!-- Statistiques -->
            <div class="stats">
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-value" id="workDays">0</span>
                        <span class="stat-label">Jours travaillés</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="avgHours">0</span>
                        <span class="stat-label">Moyenne/jour</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Navigation footer -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-view="calendar">
                📅 Calendrier
            </button>
            <button class="nav-item" data-view="stats">
                📊 Statistiques
            </button>
            <button class="nav-item" data-view="export">
                📤 Export
            </button>
        </nav>

        <!-- Modal pour saisie -->
        <div id="modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
            <div class="modal-content">
                <h3 id="modal-title">📝 Heures du <span id="selectedDate"></span></h3>
                <div class="input-group">
                    <label for="hoursInput" class="sr-only">Nombre d'heures</label>
                    <input type="text" id="hoursInput" placeholder="Ex: 7.5" aria-describedby="hours-help">
                    <div id="hours-help" class="input-help">Utilisez un point ou une virgule pour les décimales</div>
                </div>
                <div class="input-group">
                    <label for="dayNote" class="sr-only">Note du jour</label>
                    <textarea id="dayNote" maxlength="200" placeholder="Note du jour (optionnel)" rows="2"></textarea>
                </div>
                <div id="realTimeTotal" class="real-time-total"></div>
                <div class="quick-buttons">
                    <button class="quick-btn" data-hours="4" type="button">4h</button>
                    <button class="quick-btn" data-hours="6" type="button">6h</button>
                    <button class="quick-btn" data-hours="7" type="button">7h</button>
                    <button class="quick-btn" data-hours="8" type="button">8h</button>
                </div>
                <div class="modal-actions">
                    <button id="saveHours" type="button">💾 Sauver</button>
                    <button id="deleteHours" type="button">🗑️ Supprimer</button>
                    <button id="cancelModal" type="button">❌ Annuler</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
